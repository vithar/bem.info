<!DOCTYPE html><html class="ua_js_no"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Build / Methodology / BEM</title><script>(function(e,c){e[c]=e[c].replace(/(ua_js_)no/g,"$1yes");})(document.documentElement,"className");</script><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300,600,700&amp;subset=cyrillic"/><link rel="stylesheet" href="/bem.info/en/methodology.min.css"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/><meta property="og:image" content="https://ru.bem.info/og_image/logo_theme_stripe.png"/><meta property="og:url" content="/methodology/build/"/><meta property="og:type" content="article"/><meta property="og:description" content="Build"/><meta property="og:keywords" content="methodology"/><link rel="shortcut icon" href="/bem.info/en/favicon.ico"/></head><body class="page"><div class="header i-bem" data-bem='{"header":{}}'><div class="header__layout"><a class="logo header__logo" href="/bem.info/en/"><svg class="logo__logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 101.7 84"><path d="M0 13h23.8v7H0zM0 0h23.8v7H0zm42.7 25.9H0v7h41.1c4.5 0 15 .1 18.9 6.4v-3.9c-1.9-6.2-7.5-9.5-17.3-9.5zm.1 13H0v7h41.1c10 0 16.3.4 18.9 1.8v-3.1c-2-4.9-10.4-5.7-17.2-5.7zm-.1 33H0v-7h41.1c4.5 0 15-.1 18.9-6.4v3.9c-1.9 6.2-7.5 9.5-17.3 9.5zm.1-13H0v-7h41.1c10 0 16.3-.4 18.9-1.8v3.1c-2 4.9-10.4 5.7-17.2 5.7zM70.4 84h31.4v-4.3H71.3c-2.7 0-9.1-.1-11.4-3.8v2.4C61 82 64.4 84 70.4 84zm-.1-7.9h31.4v-4.3H71.3c-6.1 0-9.9-.2-11.4-1.1v1.9c1.2 3 6.3 3.5 10.4 3.5z"/></svg></a><ul class="lang-switcher header__lang"><li class="lang-switcher__item"><span class="lang-switcher__current">en</span></li><li class="lang-switcher__item"><a class="lang-switcher__link" href="/bem.info/ru/methodology/build/">ru</a></li></ul><a class="header__forum" href="/bem.info/en/forum/">Forum</a></div><div class="search header__search i-bem" data-bem='{"search":{}}'><form class="form search__form search__form_site_methodology i-bem" data-bem='{"form":{}}' action="https://yandex.com/sitesearch"><span class="input input_type_search i-bem" data-bem='{"input":{}}'><span class="input__box"><input class="input__control" name="text" placeholder="Search" autocomplete="off" type="search"/></span></span><input type="hidden" name="reqenc"/><input type="hidden" name="searchid" value="1944806"/><input type="hidden" name="l10n" value="en"/><div class="search-icon search__submit"><svg viewBox="0 0 17 17" xmlns="http://www.w3.org/2000/svg"><circle cx="7" cy="7" r="6"/><path d="M11 11l5 5"/></svg></div></form></div><div class="header__menu"><ul class="breadcrumbs header__breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/bem.info/en/methodology/">Methodology</a></li></ul><ul class="nav"><li class="nav__item"><a class="nav__link" href="/bem.info/en/methodology/key-concepts/">Key concepts</a></li><li class="nav__item"><a class="nav__link" href="/bem.info/en/methodology/naming-convention/">Naming convention</a></li><li class="nav__item"><a class="nav__link" href="/bem.info/en/methodology/js/">JavaScript</a></li><li class="nav__item"><a class="nav__link" href="/bem.info/en/methodology/js-principles/">JavaScript principles</a></li><li class="nav__item"><a class="nav__link" href="/bem.info/en/methodology/filesystem/">Filesystem</a></li><li class="nav__item nav__item_current">Build</li><li class="nav__item"><a class="nav__link" href="/bem.info/en/methodology/declarations/">Declarations</a></li><li class="nav__item"><a class="nav__link" href="/bem.info/en/methodology/solved-problems/">Solved problems</a></li><li class="nav__item"><a class="nav__link" href="/bem.info/en/methodology/history/">History</a></li><li class="nav__item"><a class="nav__link" href="/bem.info/en/methodology/articles/">Articles</a></li><li class="nav__item"><a class="nav__link" href="/bem.info/en/methodology/faq/">FAQ</a></li></ul></div><div class="header__toggle search-icon"><span class="header__toggle-line"></span></div></div><div class="sitemap i-bem" data-bem='{"sitemap":{}}'><div class="sitemap__section"><h1 class="sitemap__title sitemap__title_site_methodology"><a class="sitemap__link" href="/bem.info/en/methodology/">Methodology</a></h1><ul class="sitemap__tree"><li class="sitemap__tree-item-1"><a class="sitemap__link" href="/bem.info/en/methodology/key-concepts/">Key concepts</a></li><li class="sitemap__tree-item-1"><a class="sitemap__link" href="/bem.info/en/methodology/naming-convention/">Naming convention</a></li><li class="sitemap__tree-item-1"><a class="sitemap__link" href="/bem.info/en/methodology/js/">JavaScript</a></li><li class="sitemap__tree-item-1"><a class="sitemap__link" href="/bem.info/en/methodology/js-principles/">JavaScript principles</a></li><li class="sitemap__tree-item-1"><a class="sitemap__link" href="/bem.info/en/methodology/filesystem/">Filesystem</a></li><li class="sitemap__tree-item-1"><strong class="sitemap__current">Build</strong></li><li class="sitemap__tree-item-1"><a class="sitemap__link" href="/bem.info/en/methodology/declarations/">Declarations</a></li><li class="sitemap__tree-item-1"><a class="sitemap__link" href="/bem.info/en/methodology/solved-problems/">Solved problems</a></li><li class="sitemap__tree-item-1"><a class="sitemap__link" href="/bem.info/en/methodology/history/">History</a></li><li class="sitemap__tree-item-1"><a class="sitemap__link" href="/bem.info/en/methodology/articles/">Articles</a></li><li class="sitemap__tree-item-1"><a class="sitemap__link" href="/bem.info/en/methodology/faq/">FAQ</a></li></ul></div><div class="sitemap__section"><h1 class="sitemap__title sitemap__title_site_toolbox"><a class="sitemap__link" href="/bem.info/en/toolbox/">Toolbox</a></h1><ul class="sitemap__tree"><li class="sitemap__tree-item-1"><a class="sitemap__link" href="/bem.info/en/toolbox/enb/">ENB</a></li><li class="sitemap__tree-item-2"><a class="sitemap__link" href="/bem.info/en/toolbox/enb/test/">ENB TEST</a></li><li class="sitemap__tree-item-1"><a class="sitemap__link" href="/bem.info/en/toolbox/bem-tools/">bem-toolbox</a></li><li class="sitemap__tree-item-1"><a class="sitemap__link" href="/bem.info/en/toolbox/sdk/">BEM SDK</a></li><li class="sitemap__tree-item-2"><a class="sitemap__link" href="/bem.info/en/toolbox/sdk/bem-naming/">bem-naming</a></li><li class="sitemap__tree-item-2"><a class="sitemap__link" href="/bem.info/en/toolbox/sdk/bem-config/">bem-config</a></li><li class="sitemap__tree-item-2"><a class="sitemap__link" href="/bem.info/en/toolbox/sdk/bem-fs-scheme/">bem-fs-scheme</a></li></ul></div><div class="sitemap__section"><h1 class="sitemap__title sitemap__title_site_platform"><a class="sitemap__link">Platform</a></h1><ul class="sitemap__tree"><li class="sitemap__tree-item-1"><a class="sitemap__link">Technologies</a></li><li class="sitemap__tree-item-3"><a class="sitemap__link" href="/bem.info/en/technology/i-bem/v2/i-bem-js/">i-bem</a></li><li class="sitemap__tree-item-2"><a class="sitemap__link" href="/bem.info/en/technology/deps/about/">DEPS</a></li><li class="sitemap__tree-item-3"><a class="sitemap__link" href="/bem.info/en/technology/bemjson/v2/bemjson/">BEMJSON</a></li><li class="sitemap__tree-item-3"><a class="sitemap__link" href="/bem.info/en/technology/bemhtml/v2/intro/">BEMHTML</a></li><li class="sitemap__tree-item-3"><a class="sitemap__link" href="/bem.info/en/technology/bemtree/v2/bemtree/">BEMTREE</a></li><div class="sitemap__tree-item-0"><a class="sitemap__link" href="/bem.info/en/libs/">Libraries</a></div><li class="sitemap__tree-item-1"><a class="sitemap__link" href="/bem.info/en/libs/bem-core/">bem-core</a></li><li class="sitemap__tree-item-1"><a class="sitemap__link" href="/bem.info/en/libs/bem-components/">bem-components</a></li><li class="sitemap__tree-item-1"><a class="sitemap__link" href="/bem.info/en/libs/bem-history/">bem-history</a></li></ul></div><div class="sitemap__section"><h1 class="sitemap__title sitemap__title_site_community"><a class="sitemap__link" href="/bem.info/en/community/">Community</a></h1><ul class="sitemap__tree"><li class="sitemap__tree-item-1"><a class="sitemap__link" href="/bem.info/en/blog/">Blog</a></li><li class="sitemap__tree-item-1"><a class="sitemap__link" href="/bem.info/en/events/">Events</a></li><li class="sitemap__tree-item-1"><a class="sitemap__link" href="/bem.info/en/forum/">Forum</a></li></ul></div></div><div class="article-wrap"><div class="article"><ul class="article-tags"><li class="article-tags__tag"><a class="article-tags__link" href="/bem.info/en/tags/methodology">methodology</a></li></ul><h1 class="article__heading article__heading_1" id="bem-project-building-methodology"><a href="#bem-project-building-methodology" class="article__heading-anchor"></a>BEM project building methodology</h1><p>Any project developed using the BEM methodology has a multi-level file structure. Such a structure results from the component-based approach. In BEM, <a href="/methodology/key-concepts#block">blocks</a> can be implemented in one or more <a href="/methodology/key-concepts#implementation-technology">technologies</a>. Each technology is stored in a separate file. Consequently, a build process is required in order to obtain general project files from individual files. You can use any of the available <a href="#build-tools">build tools</a>.</p>
<p>Here is an example of a file structure organization of a BEM project:</p>
<pre><code class="lang-files">blocks/               # Project level
  input/              # input block directory
    input.css         # input block implementation in CSS technology
    input.js          # input block implementation in JavaScript technology
  icon/
    icon.css
library/              # Library level
  input/
    input.js          # input block basic implementation in JavaScript technology
  button/
</code></pre>
<blockquote>
<p>To find out more about the reasons for dividing a block implementation into separate files, read <a href="/methodology/filesystem/">File system organizaation of a BEM project</a>.</p>
</blockquote>
<p>The build process takes care of the following:</p>
<ul>
<li>combines individual <a href="/methodology/filesystem#a-block-implementation-is-divided-into-separate-files">implementation files</a> spread throughout the system.</li>
<li>includes only the necessary blocks, <a href="/methodology/key-concepts#element">elements</a> and <a href="/methodology/key-concepts#modifier">modifiers</a> in the project, out of those contained in the file system;</li>
<li>ensures that the files are linked to the project in a correct order.</li>
</ul>
<h2 class="article__heading article__heading_2" id="main-stages-of-the-build-process"><a href="#main-stages-of-the-build-process" class="article__heading-anchor"></a>Main stages of the build process</h2><p>In order to obtain a finished project part (build result), such as a web page, from individual files, we need to:</p>
<ul>
<li><a href="#determining-a-list-of-blocks-elements-and-modifiers-for-creating-a-page">list blocks, elements, and modifiers involved in the creation of the page</a></li>
<li><a href="#identifying-dependencies">specify dependencies for the BEM entities used on the page</a></li>
<li><a href="#determining-the-order-of-including-bem-entities-in-the-build">combine the source files</a></li>
</ul>
<h3 class="article__heading article__heading_3" id="build-results"><a href="#build-results" class="article__heading-anchor"></a>Build results</h3><p>We can get different final sets of files as the outcome of the build:</p>
<ul>
<li>files for one particular page (e.g., <code>hello.css</code> and <code>hello.js</code>);</li>
<li>general files for the entire project (e.g., one <code>project.css</code> file and one <code>project.js</code> file);</li>
<li>files for page components, such as <code>header</code> and <code>footer</code>, which are used on different pages of the project (e.g., <code>header.css</code> and <code>header.js</code>). The common part is built separately and linked during the build process.</li>
</ul>
<p>In the BEM methodology, such file sets resulting from the build process are commonly called <strong>bundles</strong>.</p>
<blockquote>
<p>Note that in this document the build process is illustrated on the example of a <strong>page</strong>, which is an instance of a bundle.</p>
</blockquote>
<p>In the file system, build results for individual files are placed in a default directory carrying the page name (e.g., <code>hello</code>):</p>
<pre><code class="lang-files">blocks/       # Directory containing the blocks
bundles/      # Directory containing all build results (optional)
  hello/      # Directory for the hello page (created manually)
</code></pre>
<p>An example of a pre-build file structure of a BEM project:</p>
<pre><code class="lang-files">blocks/           # Directory containing the blocks
bundles/          # Directory containing all build results
  hello/          # Directory for the hello page
  hello.decl.js   # List of BEM entities required for the hello page
</code></pre>
<p>An example of a post-build file structure of a BEM project:</p>
<pre><code class="lang-files">blocks/           # Directory containing the blocks
bundles/          # Directory containing all build results
  hello/          # Directory for the hello page
  hello.decl.js   # List of BEM entities required for the hello page
  hello.css       # Built CSS file for the hello page
  hello.js        # Built JavaScript file for thehello page
</code></pre>
<p>Either of the following can be included in the project during the build process:</p>
<ul>
<li>all the BEM entities from the file system (which increases the resulting code size considerably);</li>
<li>only those BEM entities that are necessary for building the page, in a strictly defined order.</li>
</ul>
<p>Building a project with only the relevant BEM entities makes use of the following (all are optional):</p>
<ul>
<li><a href="#determining-a-list-of-blocks-elements-and-modifiers-for-creating-a-page">Declaration</a> — defines a list of BEM entities that are needed for creating a page.</li>
<li><a href="#identifying-dependencies">Dependencies</a> — determine BEM entities necessary for implementing a block.</li>
<li><a href="#determining-the-order-of-including-bem-entities-in-the-build">Redefinition levels</a> — determine the order in which BEM entities are included in the build.</li>
</ul>
<h3 class="article__heading article__heading_3" id="determining-a-list-of-blocks-elements-and-modifiers-for-creating-a-page"><a href="#determining-a-list-of-blocks-elements-and-modifiers-for-creating-a-page" class="article__heading-anchor"></a>Determining a list of blocks, elements, and modifiers for creating a page</h3><p>To start the build process for a page, the build tool must know all of its components.</p>
<p><img src="/bem.info/en/0Svci9ER2l2yRAN7q5N3DW1A43o.png" alt="Declaration"></p>
<p>The first step in the build process is making a list of the necessary BEM entities. The following example explains the purpose of such a list and how it is created.</p>
<p>Let&#39;s say there is a library linked to your project, and some of the blocks from that library are used on the page. There is no need to include the entire library in the build. You can use the page description to make a list of the specific items required. This can be done either automatically or manually. Only the listed blocks will end up in the build. In the BEM methodology, such a list is called a <a href="/methodology/declarations/">declaration</a>.</p>
<p>The main purpose of the declaration is to define what and in what order should be included in the build.</p>
<blockquote>
<p>Find out more about different <a href="/methodology/declarations#ways-of-obtaining-a-declaration">ways of building a declaration</a>.</p>
</blockquote>
<h3 class="article__heading article__heading_3" id="identifying-dependencies"><a href="#identifying-dependencies" class="article__heading-anchor"></a>Identifying dependencies</h3><p>In the BEM methodology, blocks are often built on the basis of other blocks. For instance, the search form block (<code>search-form</code>) is built using the <code>input</code> and <code>button</code> blocks. There is no need to implement a block again if it is already stored in the library. You can build the new block on the basis of the existing one.</p>
<p>To create a block based on another block that already exists, you need to specify dependencies between the two. For instance, the above-mentioned <code>search-form</code> block is dependent on <code>input</code> and <code>button</code>.</p>
<p>The build tool receives the dependency data and adds all the entities and technologies necessary for implementing the block during the build process. The order of including entities is also specified in the dependencies.</p>
<p>Dependencies can be specified in a number of ways:</p>
<ul>
<li><p>Directly in the block code.</p>
<ul>
<li>In CSS, dependencies can be defined using the @import directive.</li>
<li>In JavaScript, dependencies can be declared using a module system (e.g., <a href="https://github.com/amdjs/amdjs-api/wiki/AMD">AMD</a>, <a href="http://www.commonjs.org/">CommonJS</a>) or imports (<a href="http://www.ecmascript.org/">ECMAScript 2015</a>).</li>
</ul>
</li>
<li><p>In a separate file.</p>
<blockquote>
<p>The BEM platform uses a technology called <a href="https://en.bem.info/technology/deps/">DEPS</a> for specifying dependencies.</p>
</blockquote>
<pre><code class="lang-files">blocks/
    input/
        input.css
        input.js
        input.deps.js   # input block dependencies
    button/
        button.css
        button.js
</code></pre>
</li>
</ul>
<h3 class="article__heading article__heading_3" id="determining-the-order-of-including-bem-entities-in-the-build"><a href="#determining-the-order-of-including-bem-entities-in-the-build" class="article__heading-anchor"></a>Determining the order of including BEM entities in the build</h3><p>The order of including BEM entities in the build depends upon:</p>
<ul>
<li><p><strong>specified dependencies</strong></p>
<p>Dependencies determine the order in which extra entities should be added to the build.</p>
</li>
<li><p><strong>redefinition levels used</strong></p>
<p>It is important to ensure that <a href="/methodology/key-concepts#redefinition-level">levels</a> are linked to the build in a correct order. If we compare levels to layers, then the basic layer is the original implementation of the block, such as supplied from the library, and each next layer is added on top and complements (inherits) or modifies the basic implementation. That is why it is important that the original implementation is included in the build first, and then the changes from all the redefinition levels.</p>
</li>
</ul>
<p>The diagram illustrates the principle of applying redefinition levels to the build: components common to all platforms are linked to the <code>common</code> level, while platform-specific components are linked from the <code>desktop</code> and <code>touch</code> levels.</p>
<p><img src="/bem.info/en/PZ62KYv1my7TWanCrEgGGHUPAXs.png" alt="Redefinition levels"></p>
<p>To find out more about using redefinition levels, read these examples:</p>
<ul>
<li><a href="/methodology/filesystem#linking-a-library">Redefining library blocks</a></li>
<li><a href="/methodology/filesystem#dividing-a-project-into%20platforms">Dividing a project into platforms</a></li>
</ul>
<h2 class="article__heading article__heading_2" id="build-tools"><a href="#build-tools" class="article__heading-anchor"></a>Build tools</h2><p>The choice of a particular build tool depends on the complexity of your BEM project, on whether it has redefinition levels and whether it uses dependencies.</p>
<p>The BEM methodology does not limit your choice of tools — you can use any build tool (e.g., Gulp, Grunt, Brunch, Broccoli) that meets the requirements of your project.</p>
<blockquote>
<p>An example of building a BEM project using <a href="http://gulpjs.com">Gulp</a> — Declarative JavaScript with BEM.</p>
</blockquote>
<p>The BEM platform uses <a href="https://en.bem.info/tools/bem/enb-bem/">ENB</a>, which is a tool suitable for building BEM projects of any level of complexity.</p>
<blockquote>
<p>An example of building a BEM project using <a href="https://en.bem.info/tools/bem/enb-bem/">ENB</a> — <a href="https://en.bem.info/tutorials/start-with-project-stub/">Starting your own BEM project</a>.</p>
</blockquote>
</div><ul class="article-rewind"><li class="article-rewind__prev"><a class="article-rewind__prev-link" href="/bem.info/en/methodology/filesystem/">Filesystem</a></li> <li class="article-rewind__next"><a class="article-rewind__next-link" href="/bem.info/en/methodology/declarations/">Declarations</a></li></ul><div class="article-amendments">If you notice a mistake or want something to supplement the article, you can always write to us at <a class="article-amendments__issue" href="https://github.com/bem/bem-method/issues/new">GitHub</a>, or correct an article using <a class="article-amendments__edit" href="http://prose.io/#bem/bem-method/blob/bem-info-data/method/build/build.en.md">prose.io.</a></div><div class="social-likes"><a class="social-likes__text">Share with world: </a><a class="social-likes__service social-likes__service_type_facebook" href="https://www.facebook.com/sharer.php?s=100&amp;url=https%3A%2F%2Fen.bem.info%2Fmethodology%2Fbuild%2F&amp;title=Build&amp;image=">Facebook</a> <a class="social-likes__service social-likes__service_type_vk" href="http://vk.com/share.php?&amp;url=https%3A%2F%2Fen.bem.info%2Fmethodology%2Fbuild%2F&amp;title=Build&amp;image=">VKontakte</a> <a class="social-likes__service social-likes__service_type_twitter" href="https://twitter.com/share?&amp;url=https%3A%2F%2Fen.bem.info%2Fmethodology%2Fbuild%2F&amp;title=Build&amp;image=">Twitter</a></div></div><footer class="footer page-bg"><div class="legos legos_inverted"><div class="legos__lego legos__lego_width_3 legos__lego_height_3"></div><div class="legos__lego legos__lego_width_3 legos__lego_height_3"></div><div class="legos__lego legos__lego_height_3"></div><div class="legos__lego legos__lego_width_2"></div><div class="legos__lego legos__lego_height_3"></div><div class="legos__lego legos__lego_width_3"></div><div class="legos__lego legos__lego_width_3"></div><div class="legos__lego legos__lego_height_3"></div><div class="legos__lego legos__lego_width_2"></div><div class="legos__lego legos__lego_width_3 legos__lego_height_3"></div><div class="legos__lego legos__lego_width_3 legos__lego_height_2"></div><div class="legos__lego legos__lego_width_3 legos__lego_height_2"></div><div class="legos__lego legos__lego_width_3 legos__lego_height_3"></div><div class="legos__lego legos__lego_width_3"></div><div class="legos__lego legos__lego_width_2"></div><div class="legos__lego legos__lego_height_2"></div><div class="legos__lego legos__lego_width_3 legos__lego_height_2"></div><div class="legos__lego legos__lego_width_2 legos__lego_height_3"></div><div class="legos__lego legos__lego_width_3"></div><div class="legos__lego legos__lego_width_2"></div><div class="legos__lego legos__lego_height_2"></div><div class="legos__lego legos__lego_width_2 legos__lego_height_3"></div><div class="legos__lego legos__lego_width_3"></div><div class="legos__lego legos__lego_width_3"></div><div class="legos__lego legos__lego_height_2"></div><div class="legos__lego legos__lego_height_3"></div><div class="legos__lego legos__lego_width_2 legos__lego_height_3"></div><div class="legos__lego legos__lego_width_2"></div></div><div class="footer__layout"><ul class="footer__community"><li class="footer__channel"><a class="footer__channel-link" href="https://telegram.me/bem_en">Telegram</a></li><li class="footer__channel"><a class="footer__channel-link" href="https://www.facebook.com/groups/bem.info/">Facebook</a></li><li class="footer__channel"><a class="footer__channel-link" href="https://twitter.com/bem_en/">Twitter</a></li></ul></div></footer><script>(function (d, w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            w.yaCounter16972024 = new Ya.Metrika({"id":"16972024","webvisor":true,"clickmap":true,"trackLinks":true,"accurateTrackBounce":true});
        } catch(e) { }
    });

    var n = d.getElementsByTagName("script")[0],
        s = d.createElement("script"),
        f = function () { n.parentNode.insertBefore(s, n); };
    s.type = "text/javascript";
    s.async = true;
    s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

    if (w.opera == "[object Opera]") {
        d.addEventListener("DOMContentLoaded", f, false);
    } else { f(); }
})(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="//mc.yandex.ru/watch/16972024" style="position:absolute; left:-9999px;"/></div></noscript><script src="/bem.info/en/methodology.en.min.js"></script></body></html>